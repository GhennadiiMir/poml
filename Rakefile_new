require 'rake/testtask'

# Test Tasks:
# - rake test : Run all tests (all should pass with current implementation)

# All tests - since all tests now pass, no need for separate stable/development suites
Rake::TestTask.new(:test) do |t|
  t.libs << "test"
  t.test_files = FileList['test/test_*.rb'].exclude('test/test_helper*.rb')
  t.verbose = true
  t.ruby_opts = ['-w']
end

# Legacy compatibility aliases
Rake::TestTask.new(:test_all) do |t|
  t.libs << "test"
  t.test_files = FileList['test/test_*.rb'].exclude('test/test_helper*.rb')
  t.verbose = true
  t.ruby_opts = ['-w']
end

Rake::TestTask.new(:test_working) do |t|
  t.libs << "test"
  t.test_files = FileList['test/test_*.rb'].exclude('test/test_helper*.rb')
  t.verbose = true
  t.ruby_opts = ['-w']
end

task default: :test
